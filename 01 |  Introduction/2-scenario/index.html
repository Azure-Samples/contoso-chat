
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../1-paradigm-shift/">
      
      
        <link rel="next" href="../3-environment/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>02 | The App Scenario - Build A Production RAG with Azure AI and Prompt Flow</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#02-the-app-scenario" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Build A Production RAG with Azure AI and Prompt Flow" class="md-header__button md-logo" aria-label="Build A Production RAG with Azure AI and Prompt Flow" data-md-component="logo">
      
  <img src="../../img/azure-ai-studio.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Build A Production RAG with Azure AI and Prompt Flow
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02 | The App Scenario
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2c-1.82 0-3.53.5-5 1.35C8 5.08 10 8.3 10 12s-2 6.92-5 8.65C6.47 21.5 8.18 22 10 22a10 10 0 0 0 10-10A10 10 0 0 0 10 2Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Build A Production RAG with Azure AI and Prompt Flow" class="md-nav__button md-logo" aria-label="Build A Production RAG with Azure AI and Prompt Flow" data-md-component="logo">
      
  <img src="../../img/azure-ai-studio.svg" alt="logo">

    </a>
    Build A Production RAG with Azure AI and Prompt Flow
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Let's Build Contoso Chat
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 |  Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            01 |  Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-paradigm-shift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 | The Paradigm Shift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    02 | The App Scenario
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    02 | The App Scenario
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contoso-outdoors-website" class="md-nav__link">
    <span class="md-ellipsis">
      Contoso Outdoors (Website)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-completion-basic" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Completion (Basic)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-augmentation-rag" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Augmentation (RAG)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-orchestration-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Orchestration (Flow)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-deploy-e2e" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate &amp; Deploy (E2E)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3-environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 | The Dev Environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 | Workshop
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            02 | Workshop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    01 | Lab Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            01 | Lab Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/01%20%7C%20Lab%20Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 | What You'll Learn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    02 | Setup Dev Environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            02 | Setup Dev Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/02%20%7C%20Setup%20Dev%20Environment/01-get-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 | Get Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/02%20%7C%20Setup%20Dev%20Environment/02-launch-codespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 | Launch Codespaces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03 | Provision Azure
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            03 | Provision Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/03%20%7C%20Provision%20Azure/03-create-airesource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 | Azure AI Resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/03%20%7C%20Provision%20Azure/04-create-aiproject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04. Create Azure AI Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/03%20%7C%20Provision%20Azure/05-model-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05. Create Model Deployments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/03%20%7C%20Provision%20Azure/06-create-aisearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06. Create AI Search Resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/03%20%7C%20Provision%20Azure/07-create-cosmosdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07. Create CosmosDB Resource
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04 | Configure VS Code
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            04 | Configure VS Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/04%20%7C%20Configure%20VS%20Code/08-az-login/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08. VSCode Azure Login
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/04%20%7C%20Configure%20VS%20Code/09-az-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09. VSCode Config Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/04%20%7C%20Configure%20VS%20Code/10-env-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10. VSCode Config Env
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    05 | Setup Promptflow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            05 | Setup Promptflow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/05%20%7C%20Setup%20Promptflow/11-populate-index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11. VSCode Populate Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/05%20%7C%20Setup%20Promptflow/12-populate-db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12. VSCode Populate Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/05%20%7C%20Setup%20Promptflow/13-local-connections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13. VSCode Config Connections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/05%20%7C%20Setup%20Promptflow/14-azure-connections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14. Azure Config Connections
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    06 | Run & Evaluate Flow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            06 | Run & Evaluate Flow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/06%20%7C%20Run%20%26%20Evaluate%20Flow/15-pf-explore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15. PromptFlow: Codebase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/06%20%7C%20Run%20%26%20Evaluate%20Flow/16-pf-visual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    16. PromptFlow: Visual Editor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/06%20%7C%20Run%20%26%20Evaluate%20Flow/17-pf-run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    17. PromptFlow: Run
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/06%20%7C%20Run%20%26%20Evaluate%20Flow/18-pf-evaluate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    18. PromptFlow: Evaluate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    07 | Deploy & Use Flow
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            07 | Deploy & Use Flow
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/07%20%7C%20Deploy%20%26%20Use%20Flow/19-pf-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    19. PromptFlow: Deploy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/07%20%7C%20Deploy%20%26%20Use%20Flow/20-lab-recap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Recap
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    08 | Bonus Exercises
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            08 | Bonus Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/08%20%7C%20Bonus%20Exercises/1-App-Integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 | Contoso Website Chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/08%20%7C%20Bonus%20Exercises/2-Actions-Integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 | GitHub Action Deploy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/08%20%7C%20Bonus%20Exercises/3-Intents-Integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 | Intent-Based Routing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/08%20%7C%20Bonus%20Exercises/4-Content-Filtering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 | Content Filtering
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    09 | Troubleshooting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            09 | Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02%20%7C%20Workshop/09%20%7C%20Troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 | Debug Issues
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    03 | Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            03 | Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%20%7C%20Concepts/01-RAG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 | The RAG Pattern
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03%20%7C%20Concepts/02-Metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 | The Evaluation Metrics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    04 | Tooling
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            04 | Tooling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20%7C%20Tooling/01-Dev-Containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    01 | Dev Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20%7C%20Tooling/02-Visual-Studio-Code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 | Visual Studio Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20%7C%20Tooling/03-Prompt-Flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 | Prompt Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04%20%7C%20Tooling/04-Azure-AI-Studio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 | Azure AI Studio
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contoso-outdoors-website" class="md-nav__link">
    <span class="md-ellipsis">
      Contoso Outdoors (Website)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-completion-basic" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Completion (Basic)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-augmentation-rag" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Augmentation (RAG)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-orchestration-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Orchestration (Flow)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluate-deploy-e2e" class="md-nav__link">
    <span class="md-ellipsis">
      Evaluate &amp; Deploy (E2E)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="02-the-app-scenario">02 | The App Scenario</h1>
<div class="admonition example">
<p class="admonition-title">Consider this familiar enterprise scenario!</p>
<p>You're a new hire in the Contoso Outdoors organization. They are an e-commerce company with a successful product catalog and loyal customer base focused on outdoor activities like camping and hiking. Their website is hugely popular but their customer service agents are being overwhelmed by calls that could be answered by information currently on the site. </p>
<p>For every call they fail to answer, they are potentially losing not just revenue, but customer loyalty. <strong>You are part of the developer team tasked to build a Customer Support AI into the website</strong> to meet that demand. The objective is to build and deploy a customer service agent that is <em>friendly, helpful, responsible, and relevant</em> in its support interactions.</p>
</div>
<p>Let's walk through how you can make this happen in your organization, using the Azure AI Platform. Well start with the <em>ideation</em> phase which involves identifying the business case, connecting to your data, building the basic prompt flow (LLM App), then iterating locally to extend it for your app requirements. Let's understand how this maps to our workshop.</p>
<hr />
<h2 id="contoso-outdoors-website">Contoso Outdoors (Website)</h2>
<p>The Contoso Chat (LLM App) is being designed for integration into the Contoso Outdoors site (Web App) via the <em>chat icon</em> seen at the bottom right. The website landing page features the Contoso Outdoors <em>product catalog</em> organized neatly into categories like <em>Tents</em> and <em>Backpacks</em> to simplify discovery by customers.</p>
<p><img alt="Contoso Outdoors" src="../../img/scenario/01-customer-visits-site.png" /></p>
<p>When a customer clicks an item, they are taken to the <em>product details</em> page with extensive information that they can use to guide their decisions towards a purchase.</p>
<p><img alt="" src="../../img/scenario/02-customer-browses-site.png" /></p>
<div class="admonition info">
<p class="admonition-title">Step 1: Identify Business Case</p>
</div>
<p>The Contoso Chat AI should meet two business objectives. It should <em>reduce customer support calls</em> (to manual operator) by proactively answering customer questions onsite. It should <em>increase customer product purchases</em> by providing timely and contextual information to help them finalize the purchase decision. </p>
<hr />
<h2 id="chat-completion-basic">Chat Completion (Basic)</h2>
<p>Let's move to the next step - designing our Contoso Chat AI using the relevant Large Language Model (LLM). Based on our manual customer service calls, we know questions can broadly fall into two categories:</p>
<ul>
<li><strong>Product</strong> focus ➡ <em>"What should I buy for my hiking trip to Andalusia?"</em></li>
<li><strong>Customer</strong> focus ➡ <em>"What backpack should I buy given my previous purchases here?"</em></li>
</ul>
<p>We know that Azure OpenAI provides a number of pre-trained models for <em>chat completion</em> so let's see how the baseline model works for our requirements, by using the <a href="https://ai.azure.com">Azure AI Studio</a> <strong>Playground</strong> capability with a <a href="https://learn.microsoft.com/azure/ai-services/openai/concepts/models"><code>gpt-3.5-turbo</code></a> model deployment. This model can understand inputs (and generate responses) using natural language. </p>
<p>Let's see how it responds to the two questions above.</p>
<ul>
<li>
<p><strong>1. No Product Context</strong>. The pre-trained model provides a perfectly valid response to the question <em>but it lacks the product catalog context for Contoso Outdoors!</em>. We need to refine this model to use our data!
    <img alt="" src="../../img/scenario/contoso-chat-no-context.png" /></p>
</li>
<li>
<p><strong>2. No Customer History</strong>. The pre-trained model makes it clear that it has no access to customer history <em>and consequently makes general recommendations that may be irrelevant to customer query</em>. We need to refine this model to understand customer identity and access their purchase history.
    <img alt="" src="../../img/scenario/context-chat-no-history.png" /></p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Step 2: Connect To Your Data</p>
</div>
<p>We need a way to <em>fine-tune</em> the model to take our product catalog and customer history into account as relevant context for the query. The first step is to make the data sources available to our workflow. <a href="https://ai.azure.com">Azure AI Studio</a> makes this easy by helping you setup and manage <em>connections</em> to relevant Azure search and database resources.</p>
<hr />
<h2 id="chat-augmentation-rag">Chat Augmentation (RAG)</h2>
<p>That brings us to the next step - <em>prompt engineering</em>. We need to <strong>augment</strong> the user question (default prompt) with additional query context that ensures Contoso Outdoor product data is prioritized in responses. We use a popular technique know as <a href="https://learn.microsoft.com/azure/ai-studio/concepts/retrieval-augmented-generation">Retrieval Augmented Generation (RAG)</a> that works as shown below, to <em>generate responses that are specific to your data</em>. </p>
<p><img alt="" src="https://learn.microsoft.com/azure/ai-studio/media/index-retrieve/rag-pattern.png" /></p>
<p>We can now get a more <em>grounded response</em> in our Contoso Chat AI, as shown.</p>
<p><img alt="" src="../../img/scenario/04-customer-gets-grounded-response.png" /></p>
<div class="admonition info">
<p class="admonition-title">Step 3: Build Basic PromptFlow</p>
</div>
<p>We now need to add in a step that also takes <em>customer history</em> into account. To implement this, we need a tool that helps us <em>orchestrate</em> these various steps in a more intuitive way, allowing user query and data to "flow" through the processing pipeline to generate the final response. </p>
<hr />
<h2 id="chat-orchestration-flow">Chat Orchestration (Flow)</h2>
<p>The previous step gives us a basic flow that augments predefined model behaviors to add product context. Now, we want to add <em>another tool</em> (or processing function) that looks up customer details for additional prompt engineering. The end result should be a user experience that looks something like this, helping move the user closer to a purchase decision.</p>
<p><img alt="" src="../../img/scenario/03-customer-gets-contextual-response.png" /></p>
<div class="admonition info">
<p class="admonition-title">Step 4: Develop &amp; Extend Flow</p>
</div>
<p>Flow orchestration is hard. This is where <a href="https://aka.ms/promptflow">PromptFlow</a> helps, allowing us to insert a <em>customer lookup function</em> seamlessly into the flow graph, to extend it. With the Azure AI platform, you get PromptFlow capabilities integrated seamlessly into both development (VS Code) and deployment (Azure AI Studio) environments for a streamlined end-to-end developer experience.</p>
<hr />
<h2 id="evaluate-deploy-e2e">Evaluate &amp; Deploy (E2E)</h2>
<p>This ends the <em>ideation</em> phase of the application lifecycle we saw earlier. PromptFlow works seamlessly with Azure AI Studio to streamline the next two steps of the lifecycle (<em>evaluate</em> and <em>deploy</em>), helping get deliver the final Contoso Chat Support Agent AI experience on the Contoso Outdoors website. Here is what a multi-turn conversation with customers might look like now:</p>
<p><img alt="Contoso Chat" src="../../img/scenario/06-customer-multiturn-conversation.png" /></p>
<p>Your customer support AI is a hit! </p>
<p>Not only can it answer questions grounded in your product catalog, but it can refine or recommend responses based on the customer's purchase history. The conversational experience feels more natural to your customers and reduces their effort in finding relevant products in information-dense websites.</p>
<p>You find customers are spending more time in chat conversations with your support agent AI, and finding new reasons to purchase your products.</p>
<div class="admonition example">
<p class="admonition-title">Workshop: Build a production RAG with PromptFlow &amp; Azure AI Studio</p>
<p>In the next section, we'll look at how we can bring this story to life, step-by-step, using Visual Studio Code, Azure AI Studio and Prompt Flow. You'll learn how to provision Azure AI Services, engineer prompts with Retrieval-Augmented Generation to use your product data, then extend the PromptFlow to include customer lookup before evaluating and deploying the Chat AI application to Azure for real-world use.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
    
  </body>
</html>